<html>
    <head>
    	<meta charset="utf-8">
    	<meta name="viewport" content="width=device-width">
        <link href="style.css" rel="stylesheet" type="text/css" />
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.10/css/all.css" integrity="sha384-+d0P83n9kaQMCwj8F4RJB66tzIwOKmrdb46+porD/OvrJ+37WqIM7UoBtwHO6Nlg" crossorigin="anonymous">
        <style>
			 #depositUI, #withdrawUI, #transferUI, #general, #topbar, #waiting
			 {display: none;}
		</style>
	</head>
    <body>
    	<div class="container">
    		<div id="result"></div>
    		<div class="topbar" id="topbar">
    			<div class="cont-p-1">
    				<div class="parale-1 "></div>
    			</div>
    			<div class="cont-p-2">
    				<div class="parale-2"></div>
    			</div>
    			<div class="cont-p-3">
    				<div class="parale-3"></div>
    			</div>
    			<nav>
    				<div class="logo-topbar"></div>
    				<button class="btn-sign-out">Wyloguj<i class="fas fa-sign-out-alt"></i></button>
    			</nav>
    		</div>
<!-- ########### GENERAL ###########  -->
    		<div class="cont-content" id="general">
    			<div class="flex">
    				<div class="balance">
	    				<p>Witaj<br>
	    					<span class="name"><span class="username1"></span></span><br>
	    					Masz<br>
	    					<span class="money"><span class="euro">$</span><span class="curbalance"></span></span>
	    				</p>
		    		</div>
		    		<div class="list-btn">
		    			<button class="btn btn-reds" id="deposit">
		    				<i class="far fa-money-bill-alt"></i>
		    				<span class="far fa-money-bill-alt icon"></span>
		    				<p>Wpłać<br>
		    				<span>Wpłać gotówkę na swoje konto</span></p>
		    			</button>
			    		<button class="btn btn-reds" id="withdraw">
			    			<i class="far fa-credit-card"></i>
		    				<span class="far fa-credit-card icon"></span>
		    				<p>Wypłać<br>
		    				<span>Wypłać zgromadzoną gotówkę</span></p>
			    		</button>
			    		<button class="btn btn-reds" id="transfer">
			    			<i class="fas fa-exchange-alt"></i>
		    				<span class="fas fa-exchange-alt icon"></span>
		    				<p>Przelew<br>
		    				<span>Transfer bankowy</span></p>
			    		</button>
							<button class="btn btn-reds" id="falszywyZlodziej">
			    			<i class="fas fa-bars"></i>
		    				<span class="fas fa-bars icon"></span>
		    				<p>Historia<br>
		    				<span>Historia przelewów</span></p>
			    		</button>
		    		</div>
    			</div>
    			<div class="flex">
    				<div class="pub confiance">
    					<p>
    						<span>Możesz nam zaufać</span><br>
    						Liczba kont w Flecca Bank wzrosła o 7% od 2018
    					</p>
    					<div class="circle-confiance"></div>
    				</div>
    				<div class="pub social">
    					<p>
							<span>Zacznij inwestować</span><br>
							Już niedługo Flecca Bank wejdzie na giełde!
						</p>
    				</div>
    			</div>
	    	</div>
<!-- ########### DEPOSIT ###########  -->
	    	<div class="cont-content" id="depositUI">
    			<div class="flex">
    				<div class="btn btn-reds banniere">
    					<p>Wpłać pieniądze na konto<br>
		    			<span>Jesteśmy najbezpieczniejszym bankiem w Los Santos</span></p>
    				</div>
    				<button class="btn btn-reds back">
    					<i class="fas fa-bars"></i>
	    				<span class="fas fa-arrow-left icon"></span>
	    				<p>Wróć<br>
	    				<span>Do menu głównego</span></p>
    				</button>
    			</div>
    			<form id="deposit1">
    				<div class="input-cont ">
    					<label>Wpisz kwotę do zdeponowania...</label>
    					<input id="amount" type="number" style="background-color: transparent;" placeholder="$0">
    				</div>
    				<button class="btn btn-reds" type="submit">
    					<i class="fas fa-check"></i>
	    				<span class="fas fa-check icon"></span>
	    				<p>Akceptuj<br>
	    				<span>Wpłatę</span></p>
    				</button>
				</form>
	    	</div>
<!-- ########### WITHDRAW ###########  -->
	    	<div class="cont-content" id="withdrawUI">
    			<div class="flex">
    				<div class="btn btn-reds banniere">
    					<p>Wypłać pieniądze<br>
		    			<span>zgromadzone na twoim koncie</span></p>
    				</div>
    				<button class="btn btn-reds back">
    					<i class="fas fa-bars"></i>
	    				<span class="fas fa-arrow-left icon"></span>
	    				<p>Wróć<br>
	    				<span>do menu głównego</span></p>
    				</button>
    			</div>
    			<form id="withdraw1">
    				<div class="input-cont ">
    					<label>Wpisz kwotę wypłaty...</label>
    					<input id="amountw" type="number" style="background-color: transparent; "placeholder="$0">
    				</div>
    				<button class="btn btn-reds" type="submit">
    					<i class="fas fa-check"></i>
	    				<span class="fas fa-check icon"></span>
	    				<p>Akceptuj<br>
	    				<span>Wypłatę</span></p>
    				</button>
				</form>
	    	</div>
<!-- ########### TRANSFER ###########  -->
	    	<div class="cont-content" id="transferUI">
    			<div class="flex">
    				<div class="btn btn-reds banniere">
    					<p>Wykonaj przelew<br>
		    			<span>na inny rachunek bankowy</span></p>
					</div>
    				<button class="btn btn-reds back">
    					<i class="fas fa-bars"></i>
	    				<span class="fas fa-arrow-left icon"></span>
	    				<p>Wróć<br>
	    				<span>Do menu głównego</span></p>
    				</button>
    			</div>
    			<form id="transfer1">
    				<div class="double-input">
    					<div class="input-cont">
	    					<label>Wpisz kwotę przelewu...</label>
	    					<input id="amountt" type="number" style="background-color: transparent;" placeholder="$0">
	    				</div>
	    				<div class="input-cont">
	    					<label>Numer konta</label>
	    					<input id="to" type="text" style="background-color: transparent;" placeholder="Numer konta">
						</div>
					</div>
					<div class="es-input">
						<div class="input-cont">
							<label>Treść przelewu</label>
							<input id="contestt" type="text" style="background-color: transparent;" placeholder="Treść przelewu">
						</div>
					</div>
					<div class="checkerr">
						<label class="checker">Przelew anonimowy
							<input type="checkbox" id='anon' value=1 name="anon">
							<span class="checkmark"></span>
						  </label>
						  <button class="btn btn-reds" type="submit">
							<i class="fas fa-check"></i>
							<span class="fas fa-check icon"></span>
							<p>Autoryzuj<br>
							<span>Twój przelew</span></p>
						</button>
					</div>
				</form>
	    	</div>
<!-- ########### WAITING ###########  -->
	    	<div class="cont-waiting" id="waiting">
	    		<div class="content-waiting">
    				<div class="mainlogo"></div>
    				<p><span>Proszę</span> się zalogować<br>
    				za pomocą <span>twojego</span> odciska palca</p>
    				<div id="fingerprint-content">
    					<div class="fingerprint-default"></div>
    					<div class="fingerprint-active"></div>
    					<div class="fingerprint-bar"></div>
    				</div>
    			</div>
    			<div class="bg-waiting">
    				<div class="cont-p-4">
    					<div class="parale-4"></div>
    				</div>
    				<div class="cont-p-5">
    					<div class="parale-5"></div>
    				</div>
    				<div class="cont-p-6">
    					<div class="parale-6"></div>
    				</div>
    				<div class="cont-p-7">
    					<div class="parale-7"></div>
    				</div>
    			</div>
	    	</div>
    	</div>
    	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    	<script src="nui://game/ui/jquery.js" type="text/javascript"></script>
		<script type="text/javascript">
			var input = 1;
			var isATM = false;

    		$(function() {				
				window.addEventListener('message', function(event) {
					if (event.data.type === "openGeneral"){
						if (event.data.isATM === false) {
							$('#waiting').show();
							$('#deposit').show();
		                	$('body').addClass("active");
						} else {
							$('#waiting').show();
							$('#deposit').hide();
		                	$('body').addClass("active");
						}
						isATM = event.data.isATM;
					} else if(event.data.type === "balanceHUD") {
							$('.username1').html(event.data.player);
							$('.curbalance').html(event.data.balance);
					} else if (event.data.type === "closeAll"){
		                $('#waiting, #general, #transferUI, #withdrawUI, #depositUI, #topbar').hide();
		                $('body').removeClass("active");
					} else if (event.data.type === "input"){
		                if(input == 1){
							input = 0;
						}else if(input == 0){
							input = 1;
						}
					}
					else if (event.data.type === "result") {
						if (event.data.t == "success")
							$("#result").attr('class', 'alert-green');
						else
							$("#result").attr('class', 'alert-orange');
						$("#result").html(event.data.m).show().delay(5000).fadeOut();
					}
				});
			});
    		$('.btn-sign-out').click(function(){
				if(input == 1){
	            	$('#general, #waiting, #transferUI, #withdrawUI, #depositUI, #topbar').hide();
	            	$('body').removeClass("active");
					if (isATM === true){
						$.post('http://exile_bank/clicked', JSON.stringify({}));
					}
	            	$.post('http://exile_bank/NUIFocusOff', JSON.stringify({isATM: isATM}));
				}
	        })
	        $('.back').click(function(){
	            $('#depositUI, #withdrawUI, #transferUI').hide();

				if (isATM === true){
					$.post('http://exile_bank/clicked', JSON.stringify({}));
				}

	            $('#general').show();
	        })
	        $('#deposit').click(function(){
	            $('#general').hide();

				if (isATM === true){
					$.post('http://exile_bank/clicked', JSON.stringify({}));
				}

	            $('#depositUI').show();
	        })
	        $('#withdraw').click(function(){
	            $('#general').hide();

				if (isATM === true){
					$.post('http://exile_bank/clicked', JSON.stringify({}));
				}

	            $('#withdrawUI').show();
	        })
	        $('#transfer').click(function(){
	            $('#general').hide();

				if (isATM === true){
					$.post('http://exile_bank/clicked', JSON.stringify({}));
				}

	            $('#transferUI').show();
	        })
					$('#falszywyZlodziej').click(function(){
						$('#general').hide();

						if (isATM === true){
							$.post('http://exile_bank/clicked', JSON.stringify({}));
						}

						$.post('http://exile_bank/falszywyZlodziej', JSON.stringify({}));
					})
	        $('#fingerprint-content').click(function(){
	            $('.fingerprint-active, .fingerprint-bar').addClass("active")

				if (isATM === true){
					$.post('http://exile_bank/clicked', JSON.stringify({}));
				}

	            setTimeout(function(){
		  		$('#general').css('display', 'block')
					$('#topbar').css('display', 'flex')
					$('#waiting').css('display', 'none')
					$('.fingerprint-active, .fingerprint-bar').removeClass("active")
				}, 1400);
				
	        })
	        $("#deposit1").submit(function(e) {
		        e.preventDefault(); // Prevent form from submitting
		        $.post('http://exile_bank/deposit', JSON.stringify({
		            amount: $("#amount").val()
		        }));

				if (isATM === true){
					$.post('http://exile_bank/clicked', JSON.stringify({}));
				}

				$('#depositUI').hide();
				$('#general').show();
				$("#amount").val('');
			});
			$("#transfer1").submit(function(e) {
		        e.preventDefault(); // Prevent form from submitting
		        $.post('http://exile_bank/transfer', JSON.stringify({
					to: $("#to").val(),
		            amountt: $("#amountt").val(),
					anon: $("#anon:checked").val(),
					contestt: $("#contestt").val()
		        }));

				if (isATM === true){
					$.post('http://exile_bank/clicked', JSON.stringify({}));
				}

				$('#transferUI').hide();
				$('#general').show();
				$("#amountt").val('');
				$("#contestt").val('');
			});
			$("#withdraw1").submit(function(e) {
				if(input == 1){
					e.preventDefault(); // Prevent form from submitting
		        	$.post('http://exile_bank/withdrawl', JSON.stringify({
		            	amountw: $("#amountw").val(),
						isATM: isATM
		        	}));

					if (isATM === true){
						$.post('http://exile_bank/clicked', JSON.stringify({}));
					}

					$('#withdrawUI').hide();
					$('#general').show();
					$("#amountw").val('');
				}
			});
			document.onkeyup = function(data){
		        if (data.which == 27){
					if(input == 1){
		            	$('#general, #waiting, #transferUI, #withdrawUI, #depositUI, #topbar').hide();
		            	$('body').removeClass("active");
		            	$.post('http://exile_bank/NUIFocusOff', JSON.stringify({isATM: isATM}));
					}
		        }
		    }
    	</script>
    </body>
  </html>
